<app-loading *ngIf="loading"></app-loading>
<ng-template [ngIf]="us.isLoaded(loading)">
  <div class="container layout-view">
      <button mat-button (click)="volver()">Volver</button>
      <form (ngSubmit)="onSubmit(modalExito)" #frmListaNegra="ngForm">
        <div class="row justify-content-center">
      
          <h2 style="margin-bottom: 5%; font-family: Verdana, Geneva, Tahoma, sans-serif; display: block;">Lista Negra</h2>
          <p class="fullwidth paragraph">NOMBRE: {{cliente.nombre}}</p>
          <p class="fullwidth paragraph">DNI: {{cliente.dni}}</p>
          <p class="fullwidth paragraph">EMAIL: {{cliente.email}}</p>

          <p>Seleccione la cantidad de tiempo en la que el usuario permanecer&aacute; en Lista Negra</p>

          <mat-form-field class="fullwidth">
            <mat-select placeholder="Seleccione" name="tiempo" [(ngModel)]="frmLista.tiempo" required>
              <mat-option *ngFor="let opcion of opciones" [value]="opcion.value">
                {{ opcion.viewValue }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field class="example-full-width fullwidth">
              <textarea matInput placeholder="Describe el motivo" name="motivo" [(ngModel)]="frmLista.motivo"></textarea> 
          </mat-form-field> 

          <div class="text-center">
            <button class="btn btn-danger waves-light" [disabled]="!frmListaNegra.form.valid || submitting ? true : null" mdbRippleRadius>Confirmar</button>
          </div>
        </div>
        <app-submitting *ngIf="submitting"></app-submitting>
    </form>
  </div>
</ng-template>

<ng-template #modalExito let-c="close" let-d="dismiss">
    <div class="modal-header">
      <h4 class="modal-title">Exito</h4>
      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <p>El cliente ha sido baneado con &eacute;xito&hellip;</p>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-dark" (click)="c('Close click')">Close</button>
    </div>
</ng-template>


<p *ngIf="error" class="alert alert-danger">
    <strong>Error: </strong> {{errorMsg}}
</p>

